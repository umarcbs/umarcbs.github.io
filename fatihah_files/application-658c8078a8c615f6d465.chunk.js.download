(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(13),n=s(18);const r="var(--bs-gray)",o="#b1bec5";t.default=class extends i.b{connect(){this.store=new a.a,this.loadSettings(),this.device=new n.a,window.addEventListener("resize",()=>this.resizeHandler()),this.bindReset(),this.bindTooltip(),this.bindFontSize(),this.updateFontSize(),this.element[this.identifier]=this}resizeHandler(){this.mobile=this.device.isMobile(),this.updateFontSize()}loadSettings(){let e;try{e=JSON.parse(this.store.get("setting")||"{}")}catch{e={}}let t=this.defaultSetting();this.settings=Object.assign(t,e),0==this.settings.translations.length&&(this.settings.translations=t.translations),this.settings.repeatEnabled=!1,this.settings.repeatFrom=0,this.settings.repeatTo=0,this.settings.repeatAyah=0}bindTooltip(){$(`[data-value=${this.get("tooltip")}]`).attr("checked","checked"),$("[name=tooltip-display]").on("change",e=>{this.set("tooltip",$(e.target).data("value"))})}bindReset(){$("#reset-settings").on("click",e=>this.resetSetting(e))}bindFontSize(){$("[data-trigger=font-size]").on("click",e=>this.handleFontSize(e))}getTooltipType(){return this.get("tooltip")}saveSettings(){let e=JSON.stringify(this.settings);this.store.set("setting",e)}defaultSetting(){return{font:"v1",tooltip:"t",recitation:7,nightMode:null,readingMode:!1,translations:[131],repeatEnabled:!1,repeatCount:1,repeatFrom:null,repeatTo:null,repeatIteration:1,repeatType:"single",pauseBwAyah:0,repeatAyah:null,autoScroll:!0,autoShowWordTooltip:!1,wordFontSize:{mobile:30,desktop:30},translationFontSize:{mobile:16,desktop:16}}}updateFontSize(){$("style.setting").remove();let e=document.createElement("style");e.classList.add("setting"),document.head.appendChild(e);let t=this.mobile?"mobile":"desktop",s=this.get("translationFontSize")[t],i=this.get("wordFontSize")[t];const a=document.getElementById("font-size-plus"),n=document.getElementById("font-size-minus");a&&(i<=10?(a.style.color=o,n.style.color=r):i>=150?(a.style.color=r,n.style.color=o):(a.style.color=o,n.style.color=o));const l=Math.min(Math.max(parseInt(i),10),150);e.sheet.insertRule(`.w {font-size: ${l}px !important}`),e.sheet.insertRule(`.translation {font-size: ${s}px !important}`),e.sheet.insertRule(`#verses-reading .arabic {word-spacing: ${.323*l}px !important}`),e.sheet.insertRule(`#verses-reading .pause {word-spacing: ${.423*l}px !important}`)}get(e){return this.settings[e]}set(e,t){this.settings[e]=t,this.saveSettings(),document.body.setting=this}handleFontSize(e){e.preventDefault();const t=e.target.dataset,s=$(t.target),i=+t.increment;let a=parseInt(s.css("font-size"),10);a+=i;let n=this.mobile?"mobile":"desktop";if(".word"==t.target){let e=this.get("wordFontSize");e[n]=a,this.set("wordFontSize",e)}else{let e=this.get("translationFontSize");e[n]=a,this.set("translationFontSize",e)}this.updateFontSize()}resetSetting(e){this.settings=this.defaultSetting(),this.saveSettings(),this.resetPage()}resetPage(){$("style.setting").remove()}}},,,,,,,,function(e,t,s){"use strict";class i{getItem(e){let t=document.cookie.match(`(^|;)\\s*${e}\\s*=\\s*([^;]+)`);return t?t.pop():null}setItem(e,t){let s=new Date;s.setTime(s.getTime()+2592e7);let i="; expires="+s.toGMTString();document.cookie=e+"="+String(t)+i+"; path=/"}}t.a=class{get(e){return this.getStore().getItem(this.transformKey(e))}set(e,t){return this.getStore().setItem(this.transformKey(e),t)}transformKey(e){return"quran-"+e}getStore(){return"object"==typeof localStorage?localStorage:new i}}},,,,,function(e,t,s){"use strict";s.d(t,"a",(function(){return i}));class i{isMobile(){return/iphone|ipad|ipod|android|blackberry|mini|windows\sce|palm/i.test(navigator.userAgent.toLowerCase())||window.innerWidth<992}isChrome(){return/chrom(e|ium)/.test(navigator.userAgent.toLowerCase())}}},,,,,,function(e,t,s){"use strict";t.a=class{static trackEvent(e,t,s,i){return new Promise(a=>{gtag&&gtag("event",e,{event_category:t||e,event_label:s,value:i||1,event_callback:function(){a&&a()}})})}}},,,,,function(e,t,s){"use strict";s.r(t),function(e){var t=s(23),i=s.n(t),a=(s(32),s(38),s(24));s(40);s(30).start(),s(31),window.$=window.JQuery=i.a,s(22),e.GoogleAnalytic=a.a,s(39),document.addEventListener("turbolinks:request-start",(function(e){e.data.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest")})),$(document).on("click",".dropdown-menu",(function(e){e.stopPropagation()})),s(63)}.call(this,s(15))},,function(e,t){window.PartialReplacement={replace:function(e,t){let s,i,a,n;null==t&&(t={});let r=$("<div>").html(e);if(null!=t.change)for(n=t.change,i=0,a=n.length;i<a;i++){s=n[i];let e=$("#"+s),t=r.find("#"+s);e.html(t.html()).addClass(t.attr("class"))}if(null!=t.updateAll)for(n=t.updateAll,i=0,a=n.length;i<a;i++){nodeClass=n[i];let e=$("."+nodeClass),t=r.find("."+nodeClass);e.html(t.html()).addClass(t.attr("class"))}if(null!=t.delete)for(n=t.delete,i=0,a=n.length;i<a;i++)s=n[i],$("#"+s).addClass("highlight").remove();if(null!=t.append)for(n=t.append,i=0,a=n.length;i<a;i++)s=n[i],$("#"+s).append(r.find("#"+s).html());if(null!=t.prepend)for(n=t.prepend,i=0,a=n.length;i<a;i++)s=n[i],$("#"+s).prepend(r.find("#"+s).html());if(null!=t.replace)for(n=t.replace,i=0,a=n.length;i<a;i++)s=n[i],$("#"+s).replaceWith(r.find("#"+s).html());return $(document).trigger("partial:changed")}}},function(e,t,s){"use strict";s(22),s(33),s(34),s(35),s(36),s(37)},,,,,,function(e,t){document.addEventListener("turbolinks:click",e=>{const t=e.target;t.hash&&t.origin===window.location.origin&&t.pathname===window.location.pathname&&(e.preventDefault(),Turbolinks.controller.pushHistoryWithLocationAndRestorationIdentifier(e.data.url,Turbolinks.uuid()))})},function(e,t){window.addEventListener("beforeinstallprompt",(function(e){GoogleAnalytic.trackEvent("Promote Native Install","AddToHomeScreen","Promoting",1),e.userChoice.then((function(e){"dismissed"==e.outcome?GoogleAnalytic.trackEvent("Cancelled","AddToHomeScreen","Cancelled",1):GoogleAnalytic.trackEvent("Granted","AddToHomeScreen","Granted",1)}))})),"serviceWorker"in navigator&&navigator.serviceWorker.register("/serviceworker.js",{scope:"./"}).then(e=>{console.log("Quran.com SW Registered:",e)}).catch(e=>{console.error("Quran.com SW Registration failed: ",e)})},function(e,t,s){"use strict";var i=s(2),a=s(28);const n=i.a.start(),r=s(41);n.load(Object(a.a)(r))},function(e,t,s){var i={"./ajax_modal_controller.js":42,"./audio_repeat_setting_controller.js":43,"./chapter_controller.js":44,"./choose_recitation_controller.js":45,"./choose_translations_controller.js":46,"./filter_list_controller.js":47,"./font_controller.js":48,"./infinite_page_controller.js":64,"./player_controller.js":49,"./render_async_controller.js":65,"./search_form_controller.js":50,"./search_suggestions_controller.js":51,"./setting_controller.js":5,"./share_controller.js":52,"./sidebar_controller.js":53,"./slim_scroller_controller.js":66,"./spinner_controller.js":54,"./sticky_header_controller.js":55,"./tafsir_modal_controller.js":56,"./theme_controller.js":57,"./track_controller.js":58,"./translation_controller.js":59,"./verse_controller.js":60,"./word_controller.js":62};function a(e){var t=n(e);return s(t)}function n(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=n,e.exports=a,a.id=41},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(25);t.default=class extends i.b{connect(){this.element.addEventListener("click",e=>{this.loadModal(e)})}loadModal(e){e.preventDefault(),e.stopImmediatePropagation();let t=$(e.currentTarget),s=t.data("url"),i=t.data("class");this.createModel(i),$("#ajax-modal").on("hidden.bs.modal",(function(e){$("#ajax-modal").empty().remove()})),fetch(s,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>e.text()).then(e=>{const t=$("<div>").html(e);t.find("#body");document.getElementById("modal-title").innerHTML=t.find("#title").html(),document.getElementById("modal-body").innerHTML=t.find("#modal").html()}).catch(e=>{})}createModel(e){this.removeModal("#ajax-modal");let t=document.createElement("div");t.classList.add("modal"),t.id="ajax-modal",t.innerHTML='\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title" id="modal-title">Loading</h5>\n              <a class="close" data-dismiss="modal" aria-label="Close">\n                <span aria-hidden="true" class="fa fa-times fa-center"></span>\n              </a>\n            </div>\n            <div class="modal-body" id="modal-body">\n              <p class="text-center"><i class="fa fa-spinner animate-spin fa-2x my-3"></i> Loading...</p>\n            </div>\n            <div class="modal-footer" id="modal-footer">\n              <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n            </div>\n          </div>\n        </div>',document.body.append(t),t.addEventListener("hidden.bs.modal",()=>{this.removeModal(t)}),this.dialog=new a.a(t,{backdrop:"static"}),this.dialog.show()}removeModal(){let e=document.getElementById("ajax-modal");if(e){document.body.removeChild(e);let t=document.getElementsByClassName("modal-backdrop");t&&t.length>0&&document.body.removeChild(t[0])}}}},function(e,t,s){"use strict";s.r(t);var i=s(5);t.default=class extends i.default{connect(){super.connect(),this.bindSwitch(),this.bindRepeatSingle(),this.bindRepeatRange(),this.bindPause()}bindSwitch(){let e=$("#repeat-switch"),t=$("#tooltip-switch");e.on("change",()=>{const t=e.is(":checked");this.set("repeatEnabled",t),this.updatePlayerRepeat(),t?$("#repeat-wrapper").removeClass("d-none fade"):$("#repeat-wrapper").addClass("d-none fade")}),t.on("change",()=>{const e=t.is(":checked");this.set("autoShowWordTooltip",e)}),e[0].checked=this.get("repeatEnabled"),t[0].checked=this.get("autoShowWordTooltip"),e.trigger("change"),t.trigger("change")}bindRepeatSingle(){this.repeatSingle=$("#repeat-single-ayah"),this.repeatSingleTimes=$("#repeat-single-times"),this.repeatSingle.on("change",()=>this.updateRepeatSingle()),this.repeatSingleTimes.on("change",()=>this.updateRepeatSingle()),document.querySelector("#repeat-single").addEventListener("shown.bs.tab",()=>this.updateRepeatSingle())}bindRepeatRange(){this.repeatRangeFrom=$("#repeat-range-from"),this.repeatRangeTo=$("#repeat-range-to"),this.repeatRangeTimes=$("#repeat-range-times"),this.repeatRangeTo.attr("disabled",!0),this.repeatRangeFrom.on("change",e=>{const t=Number(this.repeatRangeFrom.val());this.repeatRangeTo.val(0),this.repeatRangeTo.find("option").each((e,s)=>{const i=Number(s.value);s.disabled=i>0&&i<t}),this.repeatRangeTo.attr("disabled",!1),this.updateRepeatRange()}),this.repeatRangeTo.on("change",()=>this.updateRepeatRange()),this.repeatRangeTimes.on("change",()=>this.updateRepeatRange()),document.querySelector("#repeat-range").addEventListener("shown.bs.tab",()=>this.updateRepeatRange())}updateRepeatSingle(){const e=Number(this.repeatSingle.val());this.set("repeatType","single"),this.set("repeatCount",Number(this.repeatSingleTimes.val())),this.set("repeatAyah",e),this.updatePlayerRepeat()}jumpTo(e){return document.getElementById("chapter-tabs").chapter.loadVerses(e)}updateRepeatRange(){const e=Number(this.repeatRangeFrom.val());this.set("repeatType","range"),this.set("repeatCount",Number(this.repeatRangeTimes.val())),this.set("repeatFrom",e),this.set("repeatTo",Number(this.repeatRangeTo.val())),this.updatePlayerRepeat()}bindPause(){const e=$("#pause-ayah"),t=$("#pause-bw-ayah-seconds");let s=e.is(":checked");$("[name='pause-bw-ayah']").on("change",()=>{s=e.is(":checked"),this.updatePause(s,t.val())}),t.on("change",()=>{this.updatePause(s,t.val())})}updatePause(e,t){e?this.set("pauseBwAyah",Number(t)):this.set("pauseBwAyah",0);let s,i=document.getElementById("player");if(i&&(s=i.player),s)return s.updatePause(this.get("pauseBwAyah"))}updatePlayerRepeat(){let e,t,s=0;"single"==this.settings.repeatType?(s=this.settings.repeatAyah,e=s,t=e+5):(s=this.settings.repeatFrom,e=s,t=this.settings.repeatTo),s>0&&(document.body.loader.show(),this.jumpTo(s).then(()=>{document.body.loader.hide();let s,i=document.getElementById("player");if(i&&(s=i.player),s)return s.updateRepeatConfig(this.settings,{first:e,last:t})}))}}},function(e,t,s){"use strict";s.r(t);var i=s(2);t.default=class extends i.b{initialize(){this.translationTab=document.querySelector("#pill-translation-tab"),this.readingTab=document.querySelector("#pill-reading-tab"),this.infoTab=document.querySelector("#pill-surah-info-tab"),this.bindAyahJump()}connect(){const e=this;this.element[this.identifier]=e,document.addEventListener("turbolinks:load",()=>this.scrollToTop()),this.activeTab=$(this.element).find(".tab-pane.show .verses"),this.currentVerse=null,this.totalVerses=Number(this.element.dataset.totalVerses),this.activeWord=null,this.segmentTimers=[],this.translationTab.addEventListener("shown.bs.tab",t=>{const s=t.target.href;s&&this.updateURLState(s,{reading:!1}),e.activeTab=$(t.target.dataset.target).find(".verses"),e.activeTab.trigger("visibility:visible")}),this.readingTab.addEventListener("shown.bs.tab",t=>{const s=t.target.href;s&&this.updateURLState(s,{reading:!0}),e.activeTab=$(t.target.dataset.target).find(".verses"),e.activeTab.trigger("visibility:visible")}),this.infoTab.addEventListener("shown.bs.tab",e=>{const t=e.target.href;t&&this.updateURLState(t,{})}),this.translationTab.addEventListener("hidden.bs.tab",e=>{$(e.target.dataset.target).find(".verses").trigger("visibility:hidden")}),this.readingTab.addEventListener("hidden.bs.tab",e=>{$(e.target.dataset.target).find(".verses").trigger("visibility:hidden")}),this.activeTab.on("items:added",()=>{const t=document.getElementById("player").player,s=e.activeTab.find(".verse");t.init(e,s.first().data("verseNumber"),s.last().data("verseNumber"))}),setTimeout(()=>{const t=document.getElementById("player").player,s=e.activeTab.find(".verse");t.init(e,s.first().data("verseNumber"),s.last().data("verseNumber"))},100)}disconnect(){document.removeEventListener("turbolinks:load",()=>this.scrollToTop())}scrollToTop(){document.body.scrollIntoView()}setURLState(){const e=window.location.search;e.includes("reading=true")?this.updateURLState(window.location.href,{reading:!0}):e.includes("reading=false")?this.updateURLState(window.location.href,{reading:!1}):this.isTranslationsMode()?this.updateURLState(this.translationTab.href,{reading:!1}):this.isReadingMode()&&this.updateURLState(this.readingTab.href,{reading:!0})}bindAyahJump(){$("#verse-list").find(".dropdown-item a").on("click",e=>{document.body.loader.show(),e.preventDefault(),e.stopImmediatePropagation();const t=e.currentTarget.dataset.verse;this.loadVerses(t).then(()=>{this.scrollToVerse(t),document.body.loader.hide(),this.activeTab.trigger("items:added")})})}isReadingMode(){return this.readingTab.classList.contains("active")}isTranslationsMode(){return this.translationTab.classList.contains("active")}updateURLState(e,t){window.history.pushState(t,"",e)}scrollToVerse(e){let t=this.activeTab.find(`.verse[data-verse-number=${e}]`);if(t.length>0){let e=t.offset().top,s=t.outerHeight(),i=$(window).scrollTop(),a=window.innerHeight,n=$("header").outerHeight()+$(".surah-actions").outerHeight(),r=e+s>i+a-$("#player").outerHeight(),o=e<i+n;const l=e-(n+50);Math.min(500,10*l);(r||o)&&document.scrollingElement.scrollTo({top:l,behavior:"smooth"})}}chapterId(){return this.element.dataset.chapterId}setSegmentInterval(e,t,s){this.removeSegmentTimers();let i=t||[];"number"!=typeof e&&this.removeSegmentHighlight();let a=1e3*e;$.each(i,(e,t)=>{let i=parseInt(t[2],10),n=parseInt(t[3],10);if(a>n)return!0;if(a>i){if(this.highlightSegment(t[0],t[1]),!s)return}else{let e=i-a;this.segmentTimers.push(setTimeout(()=>{this.highlightSegment(t[0],t[1])},e))}})}removeSegmentTimers(){if(this.segmentTimers.length>0){for(let e of this.segmentTimers)clearTimeout(e);return this.segmentTimers=[]}}highlightSegment(e,t){const s=this.activeTab.find(`.verse[data-verse-number=${this.currentVerse}] .word`);if(0==s.length)return;const i=document.body.setting.get("autoShowWordTooltip");this.removeSegmentHighlight();for(let a=parseInt(e,10)+1,n=parseInt(t,10)+1;a<n;a++)if(s.eq(a-1).addClass("highlight"),i){let e=s.eq(a-1)[0].tooltip;e&&e.show()}}highlightVerse(e){this.currentVerse&&this.removeHighlighting(),this.currentVerse=e,this.activeTab.find(`.verse[data-verse-number=${e}]`).addClass("highlight")}removeSegmentHighlight(){$(".word.highlight").each((e,t)=>{let s=t.tooltip;s&&s._popper&&s.hide(),t.classList.remove("highlight")})}removeHighlighting(){$(`.verse[data-verse-number=${this.currentVerse}]`).removeClass("highlight"),this.removeSegmentTimers()}updatePagination(e){const t=this.activeTab.find(".verse").last().data().verseNumber,s=this.activeTab.find(".pagination a[rel=next]");if(s.length>0){const e=s.attr("href").replace(/page=\d+/,"page="+(Math.ceil(t/10)+1));s.attr("href",e)}return this.activeTab[0].infinitePage.resume(),Promise.resolve([])}loadVerses(e){if(e=Number(e),this.activeTab.find(`.verse[data-verse-number=${e}]`).length>0)return this.scrollToVerse(e),Promise.resolve([]);this.activeTab[0].infinitePage.pause();const t=this.chapterId(),s=this.isReadingMode();let i,a;i=Math.max(1,e-2),a=Math.min(e+5,this.totalVerses);let n=fetch(`/${t}/load_verses?${$.param({from:i,to:a,verse:e,reading:s})}`).then(e=>e.text()).then(e=>this.insertVerses(e)).then(()=>this.scrollToVerse(e));return Promise.resolve(n)}changeFont(e){const t=`${this.readingTab.href}&font=${e}`,s=`${this.translationTab.href}&font=${e}`,i=this.readingTab.dataset.target,a=this.translationTab.dataset.target,n=document.querySelector(i+" #verses"),r=document.querySelector(a+" #verses");n.innerHTML=this.getLazyTab(t,i,!this.isReadingMode()),r.innerHTML=this.getLazyTab(s,a,!this.isTranslationsMode())}getLazyTab(e,t,s){const i=`{"root":"${t}"}`;return`<div\n              className="render-async"\n              id="render-async-${Math.random().toString(36).substring(7)}"\n              data-path="${e}"\n              data-method="GET"\n              data-headers="{}"\n              data-lazy-load=${!!s&&i}\n              data-controller="render-async">\n               <p className="text-center p-3">\n                 <i className="fa fa-spinner fa-spin"></i>\n               </p>\n            </div>`}changeTranslations(e){let t;t=0==e.length?"no":e.join(","),document.body.loader.show();const s=`${this.translationTab.href}&${$.param({translations:t})}`;let i=$(this.translationTab.dataset.target).find("#verses");fetch(""+s).then(e=>e.text()).then(e=>{i.html($(e).find("#verses").html()),document.body.loader.hide()})}insertVerses(e){let t=this.activeTab;return t.find("#verses").html(e),this.activeTab[0].infinitePage.resume(),Promise.resolve(t)}}},function(e,t,s){"use strict";s.r(t);var i=s(5),a=s(6);const n={mujawwad:"Mujawwad is a melodic style of Holy Quran recitation",murattal:"Murattal is at a slower pace, used for study and practice",muallim:"Muallim is teaching style recitation of Holy Quran"};t.default=class extends i.default{connect(){super.connect();const e=this.get("recitation");this.element.querySelectorAll("[name=recitation]").forEach(t=>{e==t.value&&t.setAttribute("checked","checked")}),$(this.element).find("[name=recitation]").on("change",e=>{e.preventDefault(),e.stopImmediatePropagation(),this.updateReciter(e.target.value)}),this.element.querySelectorAll("[data-style]").forEach(e=>{new a.a(e,{direction:"left",title:n[e.dataset.style],sanitize:!1})})}disconnect(){$(document).off("change","[name=font]",e=>{})}updateReciter(e){let t=document.getElementById("player").player;this.set("recitation",e),t.setRecitation(e)}}},function(e,t,s){"use strict";s.r(t);var i=s(5);t.default=class extends i.default{connect(){super.connect();const e=this.get("translations");this.element.querySelectorAll(".translation").forEach(t=>{e.includes(String(t.value))&&t.setAttribute("checked","checked")}),$(this.element).find(".translation").on("change",e=>{e.preventDefault(),e.stopImmediatePropagation(),this.updateTranslations()})}disconnect(){}updateTranslations(){let e=[];document.querySelectorAll(".translation:checked").forEach(t=>{e.push(t.value)}),this.set("translations",e),document.getElementById("chapter-tabs").chapter.changeTranslations(e)}}},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(19);t.default=class extends i.b{connect(){this.el=$(this.element),this.listFilter(this.el.data("list"),this.el.data("input"))}listFilter(e,t){var s=this,i=$(e),n=$(t);n.change(Object(a.a)((function(e){var t=n.val().toLowerCase();return s.doFilter(t,i),!1}),100)),n[0].addEventListener("search",()=>n.trigger("change")),n.keyup(()=>{n.trigger("change")})}doFilter(e,t){e.length>=1?(t.find("[data-filter-tags]:not([data-filter-tags*='"+e+"'])").removeClass("filter-show").addClass("filter-hide"),t.find("[data-filter-tags*='"+e+"']").removeClass("filter-hide").addClass("filter-show")):t.find("[data-filter-tags]").removeClass("filter-hide filter-show")}}},function(e,t,s){"use strict";s.r(t);var i=s(5);t.default=class extends i.default{connect(){super.connect(),this.font=this.get("font"),$(`[value=${this.font}]`).attr("checked","checked"),$(document).on("change","[name=font]",e=>{e.preventDefault(),e.stopImmediatePropagation(),this.changeFont(e.target)})}disconnect(){$(document).off("change","[name=font]",e=>{})}changeFont(e){this.set("font",e.value),document.getElementById("chapter-tabs").chapter.changeFont(e.value)}}},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(6);const n="https://audio.qurancdn.com/";let r,o;t.default=class extends i.b{connect(){s.e(3).then(s.t.bind(null,68,7)).then(e=>{r=e.Howl,o=e.Howler}),this.element[this.identifier]=this,this.settings=document.body.setting,this.playWordQueue=[],this.resumeOnWordPlayEnd=!1,this.preloadTrack={},this.segmentTimers=[],this.track={},this.audioData={},this.playerProgressInterval=null,this.pauseSeconds=0,this.chapter=null,this.firstVerse=null,this.lastVerse=null,this.currentVerse=null,this.config={autoScroll:this.settings.get("autoScroll"),recitation:this.settings.get("recitation"),showTooltip:!1,repeat:{verse:null,type:this.settings.get("repeatType")||"single",count:this.settings.get("repeatCount"),from:this.settings.get("repeatFrom"),to:this.settings.get("repeatTo"),iteration:1}},this.buildPlayer(),this.bindPlayerEvents()}updatePause(e){this.pauseSeconds=e}updateRepeatConfig(e,t){this.config.repeat={enabled:e.repeatEnabled,count:e.repeatCount,type:e.repeatType,verse:e.repeatAyah,from:e.repeatFrom,to:e.repeatTo,iteration:1},this.firstVerse=t.first,this.lastVerse=t.last,this.currentVerse=t.first,this.updateVerses().then(()=>{this.createHowl(this.currentVerse,!1),this.isPlaying()&&this.play(this.currentVerse)})}init(e,t,s){this.chapter=e,this.firstVerse=t,this.lastVerse=s;const i=this;this.updateVerses().then(()=>{i.currentVerse=i.currentVerse||i.firstVerse,i.createHowl(i.currentVerse,!1)})}disconnect(){this.isPlaying()&&this.track.howl.stop(),this.preloadTrack={},this.playWordQueue=[],o.unload(),this.progressBar.removeEventListener("change",()=>{}),this.progressBar.disabled=!0}isPlaying(){return this.track.howl&&this.track.howl.playing()}buildPlayer(){this.progressBar=document.getElementById("player-range"),this.scrollButton=this.element.querySelector("#auto-scroll-btn"),new a.a(this.scrollButton,{placement:"top",boundary:"window",html:!0,sanitize:!1,title:this.scrollButton.dataset.title});let e=this.scrollButton.classList;this.config.autoScroll&&(e.add("text-primary"),e.remove("text-muted")),this.scrollButton.addEventListener("click",t=>{t.preventDefault(),this.config.autoScroll=!this.config.autoScroll,this.config.autoScroll?(e.add("text-primary"),e.remove("text-muted"),this.chapter&&this.chapter.scrollToVerse(this.currentVerse)):(e.remove("text-primary"),e.add("text-muted")),this.settings.saveSettings()})}playWord(e){this.resumeOnWordPlayEnd=this.resumeOnWordPlayEnd||this.isPlaying();let t=new r({src:[`${n}${e}`],html5:false,onload:()=>{this.isPlaying()&&this.handlePauseBtnClick()},onplayerror:()=>{this.playWordQueue=[],this.resumeOnWordPlayEnd&&this.handlePlayBtnClick(),this.resumeOnWordPlayEnd=!1},onend:()=>{this.playWordQueue.shift(),this.playWordQueue[0]?this.playWordQueue[0].play():(this.resumeOnWordPlayEnd&&this.handlePlayBtnClick(),this.resumeOnWordPlayEnd=!1)}});return this.playWordQueue.push(t),1==this.playWordQueue.length&&t.play(),t}seekToWord(e){(this.audioData[this.track.currentVerse].segments||[])[e]}play(e){this.isPlaying()&&this.track.howl.stop(),e=e||this.currentVerse,this.progressBar.disabled=!1,this.progressBar.value=this.progressBar.value||0,this.chapter.removeSegmentHighlight(),this.currentVerse=e,this.preloadTrack[e]?(this.track=this.preloadTrack[e],this.track.howl.play()):(this.loading(),this.track=this.createHowl(e,!0))}handlePlayBtnClick(){this.isPlaying()?this.track.howl.pause():this.play(this.currentVerse)}handlePauseBtnClick(){this.isPlaying()&&this.track.howl.pause()}handleNextBtnClick(){const e=this.getNextTrackVerse();e&&this.play(e)}handlePreviousBtnClick(){const e=this.getPreviousTrackVerse();e&&this.play(e)}bindPlayerEvents(){$("#player .play-btn").on("click",e=>{e.preventDefault(),this.handlePlayBtnClick()}),$("#player .previous-btn").on("click",e=>{e.preventDefault(),this.handlePreviousBtnClick()}),$("#player .next-btn").on("click",e=>{e.preventDefault(),this.handleNextBtnClick()}),this.progressBar.addEventListener("change",e=>this.handleProgressBarChange(e.target.value))}handleProgressBarChange(e){let t=(this.track.duration||this.track.howl.duration())/100*e;this.track.howl.seek(t)}updatePlayerControls(){this.isPlaying()?this.setPlayCtrls("pause"):this.setPlayCtrls("play")}loading(){this.setPlayCtrls("loading")}setPlayCtrls(e){let t=$("#player .play-btn");t.removeClass("fa-play-circle fa-pause-circle fa-spinner animate-spin");let s=$(`#verses .verse[data-verse-number=${this.currentVerse}]`).find(".play .fa");s.removeClass("fa-play-circle fa-pause-circle fa-spinner animate-spin"),"loading"==e?(t.addClass("fa-spinner animate-spin"),s.addClass("fa-spinner animate-spin")):(t.addClass(`fa-${e}-circle`),s.addClass(`fa-${e}-circle`))}pad(e,t){return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e}formatTime(e){const t=Math.floor(e/60),s=Math.floor(e-60*t);return this.pad(t,2)+":"+this.pad(s,2)}preloadNextVerse(){let e=this.getNextTrackVerse();e?(this.createHowl(e,!1),$(".next-btn").removeAttr("disabled")):$(".next-btn").attr("disabled","disabled")}onPlay(){this.chapter.highlightVerse(this.currentVerse),this.config.autoScroll&&this.chapter.scrollToVerse(this.currentVerse),this.setProgressBarInterval(),this.setSegmentInterval(),this.preloadNextVerse()}getNextTrackVerse(){return this.currentVerse<this.lastVerse?this.currentVerse+1:null}getPreviousTrackVerse(){return this.currentVerse>this.firstVerse?this.currentVerse-1:null}removeProgressInterval(){clearInterval(this.playerProgressInterval)}setProgressBarInterval(){clearInterval(this.playerProgressInterval);const e=this.track.duration||this.track.howl.duration();$("#player .timer").removeClass("d-none").text("00:00"),$("#player .total-time").removeClass("d-none").text(this.formatTime(e)),this.playerProgressInterval=setInterval(()=>{let t=this.track.howl.seek(),s=Math.floor(t/e*1e3)/10;this.progressBar.value=s,$("#player .timer").text(this.formatTime(t))},500)}removePlayerListeners(){this.chapter.removeHighlighting(),this.removeProgressInterval(),this.updatePlayerControls()}onVerseEnd(){this.progressBar.value=0,this.pauseSeconds>0?setTimeout(()=>this.onVerseEnded(),1e3*this.pauseSeconds):this.onVerseEnded()}onVerseEnded(){this.config.repeat.enabled?"single"==this.config.repeat.type?this.repeatSingleVerse():this.repeatRangeVerses():this.handleNextBtnClick()}repeatSingleVerse(){this.config.repeat.iteration<=this.config.repeat.count?(this.config.repeat.iteration++,this.play()):(this.config.repeat.iteration=1,this.handleNextBtnClick())}repeatRangeVerses(){let e=this.config.repeat;this.currentVerse==e.to?e.iteration<=e.count?(this.play(e.from),e.iteration++):this.currentVerse=e.from:this.handleNextBtnClick()}onSeek(){this.isPlaying()?(this.setProgressBarInterval(),setTimeout(()=>{this.setSegmentInterval()},100)):this.setSegmentInterval()}setSegmentInterval(){this.chapter.setSegmentInterval(this.track.howl.seek(),this.preloadTrack[this.currentVerse].segments,this.isPlaying())}createHowl(e,t){if(this.preloadTrack[e])return this.preloadTrack[e];let s=this.audioData[e],i=this.buildAudioUrl(s.path),a=new r({src:[i],html5:false,autoplay:t,onloaderror:()=>{},onplayerror:()=>{this.updatePlayerControls(),this.track.howl.once("unlock",()=>{this.track.howl.play()})},onplay:()=>{this.updatePlayerControls(),this.onPlay()},onpause:()=>{this.updatePlayerControls(),this.removePlayerListeners()},onstop:()=>{this.updatePlayerControls(),this.removePlayerListeners()},onseek:()=>{this.removePlayerListeners(),this.onSeek()},onend:()=>{this.updatePlayerControls(),this.removePlayerListeners(),this.onVerseEnd()}});return this.preloadTrack[e]={howl:a,segments:s.segments,verse:e},this.preloadTrack[e]}buildAudioUrl(e){return/(http)?s?:?\/\//.test(e)||(e=n+e),e}updateVerses(){return this.fetchAudioData(this.firstVerse,this.lastVerse)}setRecitation(e){this.config.recitation=e,this.settings.set("recitation",e),this.preloadTrack={},this.audioData={},this.fetchAudioData(this.firstVerse,this.lastVerse).then(()=>{let e=this.isPlaying();e&&this.handlePauseBtnClick(),e&&this.play(this.currentVerse)})}fetchAudioData(e,t){let s=this.audioData,i=[];for(let a=Math.floor((e-1)/10),n=Math.floor((t-1)/10)+1;a<n;a++){if(s.hasOwnProperty(10*a+1))continue;let e={chapter:this.chapter.chapterId(),recitation:this.config.recitation,page:a},t=e=>{let t=Object.entries(e);for(const[i,a]of t)s[i]={path:a.audio,duration:a.duration,segments:a.segments}},n=fetch("/audio?"+$.param(e)).then(e=>e.json()).then(e=>t(e)).catch(e=>t({}));i.push(n)}return Promise.all(i)}}},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(19),n=s(18);t.default=class extends i.b{connect(){let e=this.element;this.searchBox=$(e).find("[name=query]"),this.device=new n.a,this.bindSuggestion(),this.resizeHandler(),window.addEventListener("resize",()=>this.resizeHandler()),this.element.querySelector("#search-trigger").addEventListener("click",t=>{t.preventDefault(),t.stopImmediatePropagation();let s=this.device.isMobile(),i=this.searchBox.val();s&&0==i.length&&(e.classList.toggle("expand-collapse"),e.classList.toggle("sb-search-open")),i.length>0&&this.doSearch(i)}),document.addEventListener("click",e=>{this.element.contains(e.target)?$(".suggestions").show():$(".suggestions").hide()})}bindSuggestion(){this.searchBox.change(e=>{this.getSuggestions(e.target.value)}).keyup(Object(a.a)((function(e){$(this).change()}),150))}resizeHandler(){let e=this.element.classList;const t="true"==this.element.dataset.expand;this.device.isMobile()&&t?e.remove("sb-search-open"):(e.add("sb-search-open"),e.remove("expand-collapse"))}getSuggestions(e){e&&e.length>0?fetch("/search/suggestion?query="+e).then(e=>e.text()).then(e=>{$(".suggestions").html(e)}).catch(e=>callback([])):$(".suggestions").empty()}doSearch(e){Turbolinks.visit("/search?query="+e)}}},function(e,t,s){"use strict";s.r(t);var i=s(2);t.default=class extends i.b{connect(){0==$(".search-result ul li").length&&$(".suggestions").empty()}}},function(e,t,s){"use strict";s.r(t);var i=s(2);t.default=class extends i.b{connect(){const e={width:550,height:600,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-275,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-200};this.shareWindowConfig=Object.keys(e).map(t=>`${t}=${e[t]}`).join(", ");let t=$(this.element);this.shareButtons=t.find("#share-buttons"),this.url=t.data("url"),this.text=t.data("text"),this.title=t.data("title"),this.addButton("fb","Facebook",{href:"https://www.facebook.com/sharer/sharer.php?u="+this.url}),this.addButton("twitter","Twitter",{href:`https://twitter.com/share?url=${this.url}&hashtags=quran&via=app_quran`}),this.addButton("messenger","Messenger",{href:"https://www.facebook.com/dialog/send?link="+this.url});let s=this.isMobileOrTablet()?"api":"web";this.addButton("whatsapp","Whatsapp",{"data-share":`'https://${s}.whatsapp.com/send?text=${this.url} ${this.title} ${this.text}'`,href:`https://${s}.whatsapp.com/send?text="${this.title} ${this.url} ${this.text}"`}),this.addButton("pinterest","Pinterest",{href:`https://pinterest.com/pin/create/button/?url=${this.url}&description=${this.title+" "+this.text}`}),this.addButton("telegram","Telegram",{href:`https://telegram.me/share/?url=${this.url}&text=${this.text}`}),this.addButton("reddit","Reddit",{href:`https://www.reddit.com/submit?url=${this.url}&title=${this.title}`}),this.addButton("pocket","Pocket",{href:`https://getpocket.com/save?url=${this.url}&title=${this.title}`}),this.addButton("envelope","Email",{href:`mailto:&subject=${this.title}&body=${this.url+" "+this.text}`}),this.addButton("line","Line",{"data-share":`https://social-plugins.line.me/lineit/share?url=${this.url}&text=${this.text}`,href:`https://social-plugins.line.me/lineit/share?url=${this.url}&text=${this.text}`}),t.find(".share-icon a").on("click",e=>{this.share(e.target)}),this.el=t}isMobileOrTablet(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}addButton(e,t,s){let i=`<div class='col-4 col-md-3 text-center'>\n                  <span class='share-icon ${e}'>\n                   <a target='_blank' rel='noopener'\n                   title='Share on ${t}'\n                   class='align-items-center d-flex justify-content-center' ${Object.keys(s).map(e=>`${e}=${s[e]}`).join(", ")}>\n                   <i class='fa fa-${e}'></i></a>\n                   </span><p class='text-muted fs-sm'>${t}</p></div>`;this.shareButtons.append(i)}share(e){$(e);GoogleAnalytic.trackEvent("Share","Verse",this.el.data("versekKey"),1)}disconnect(){}}},function(e,t,s){"use strict";s.r(t);var i=s(2);t.default=class extends i.b{constructor(...e){super(...e),this.scrollFromTop=0}connect(){this.element.addEventListener("click",e=>this.toggle(e))}toggle(e){e.preventDefault(),e.stopImmediatePropagation();const{target:t,close:s,isChild:i}=this.element.dataset;"true"==i&&document.getElementById("main-right-sidebar").classList.toggle("d-none");const a=document.querySelector(t);a.classList.toggle("d-none");a.classList.toggle("open")?(this.scrollFromTop=window.scrollY,document.body.style=`position:fixed; top:-${this.scrollFromTop}px`,document.querySelectorAll(s).forEach(e=>{e.addEventListener("click",e=>this.toggle(e))})):(document.body.style="",document.scrollingElement.scrollTo({top:this.scrollFromTop}),this.scrollFromTop=0,document.querySelectorAll(s).forEach(e=>{e.removeEventListener("click",()=>{})}))}removeListener(){}}},function(e,t,s){"use strict";s.r(t);var i=s(2);t.default=class extends i.b{connect(){this.element.loader=this,this.el=$(this.element),this.el.append("<div id='loading-spinner' class='spinner p-3 d-none'><i class='spinner--swirl'></i></div>")}show(){$("#loading-spinner").removeClass("d-none")}hide(){$("#loading-spinner").addClass("d-none")}}},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(67);t.default=class extends i.b{connect(){$(window).on("scroll",Object(a.a)(e=>this.onScroll(e),300))}onScroll(e){$(e.target).scrollTop()>=50?$("header").addClass("is-sticky"):$("header").removeClass("is-sticky")}}},function(e,t,s){"use strict";s.r(t);var i=s(2);t.default=class extends i.b{constructor(...e){super(...e),this.selectedLang=""}filter(e){const t=e.currentTarget.dataset.selectedLang;t===this.selectedLang?this.selectedLang="":this.selectedLang=t,this.applyFilter()}applyFilter(){document.getElementById("filters").querySelectorAll("button").forEach(e=>{e.dataset.selectedLang===this.selectedLang?(e.classList.remove("btn-outline-secondary"),e.classList.add("btn-secondary")):(e.classList.remove("btn-secondary"),e.classList.add("btn-outline-secondary"))}),document.getElementById("tafsir-results").querySelectorAll("li").forEach(e=>{e.hidden=this.selectedLang&&e.dataset.lang!==this.selectedLang})}}},function(e,t,s){"use strict";s.r(t);var i=s(5);s(13);t.default=class extends i.default{connect(){super.connect(),$(document).on("click",".theme-switch",e=>{e.preventDefault(),e.stopImmediatePropagation(),this.toggleNight()}),this.updatePage()}disconnect(){$(document).off("click",".theme-switch",e=>{})}updatePage(){const e=this.get("nightMode"),t=window.matchMedia("(prefers-color-scheme: dark)"),s=function(t){let s=document.body.classList;t&&t.matches&&null==e||e?s.add("night"):s.remove("night")};document.addEventListener("DOMContentLoaded",()=>{s(t)}),t.addListener(e=>{s(e)}),s(t)}toggleNight(){const e=document.body.classList.toggle("night");this.set("nightMode",e)}}},function(e,t,s){"use strict";s.r(t);var i=s(2);t.default=class extends i.b{connect(){this.element.addEventListener("click",e=>this.trackActions(e))}disconnect(){}trackActions(e){let t;t=(e.target.dataset.action,e.target.dataset);const{name:s,category:i,action:a,value:n}=t;GoogleAnalytic.trackEvent(s,i,a||"Clicked",n)}}},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(6),n={sg:"Singular",pl:"Plural",dl:"<b>Dual</b> <br/> A form for verbs and pronouns in Arabic language when addressing two people"};t.default=class extends i.b{connect(){this.bindFootnotes()}bindFootnotes(){let e=$(this.element),t=e.find("sup");t.click(t=>{t.preventDefault(),t.stopImmediatePropagation();var s=t.target.getAttribute("foot_note");if(s&&s.length>0){let t=e.find("#footnote-"+s);if(t.length>0)return t.toggleClass("d-none");fetch("/foot_note/"+s,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>e.text()).then(t=>{e.find("#footnotes").html(t)})}}),t.each((e,t)=>{let s=t.innerText.replace(" ","");n[s]&&new a.a(t,{title:n[s],html:!0,direction:"top",sanitize:!1})})}disconnect(){}}},function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(27),n=s.n(a),r=s(6);const o={ham_wasl:"Hamzat ul Wasl",slnt:"Silent",laam_shamsiyah:"Lam Shamsiyyah",madda_normal:"Normal Prolongation: 2 Vowels",madda_permissible:"Permissible Prolongation: 2, 4, 6 Vowels",madda_necessary:"Necessary Prolongation: 6 Vowels",madda_obligatory:"Obligatory Prolongation: 4-5 Vowels",qalaqah:"Qalaqah",ikhafa_shafawi:"Ikhafa' Shafawi - With Meem",ikhafa:"Ikhafa'",iqlab:"Iqlab",idgham_shafawi:"Idgham Shafawi - With Meem",idgham_ghunnah:"Idgham - With Ghunnah",idgham_wo_ghunnah:"Idgham - Without Ghunnah",idgham_mutajanisayn:"Idgham - Mutajanisayn",idgham_mutaqaribayn:"Idgham - Mutaqaribayn",ghunnah:"Ghunnah: 2 Vowels"},l=["ham_wasl","slnt","laam_shamsiyah","madda_normal","madda_permissible","madda_necessary","madda_obligatory","qalaqah","ikhafa_shafawi","ikhafa","iqlab","idgham_shafawi","idgham_ghunnah","idgham_wo_ghunnah","idgham_mutajanisayn","idgham_mutaqaribayn","ghunnah"];t.default=class extends i.b{connect(){let e=$(this.element);this.element.querySelectorAll(".ayah-action").forEach(e=>{e.tooltip=new r.a(e,{trigger:"hover",placement:"right",html:!0,sanitize:!1,template:"<div class='tooltip bs-tooltip-top' role='tooltip'><div class='tooltip-arrow'></div><div class='tooltip-inner'></div></div>",title:()=>`<div class='${window.locale}'>${e.dataset.title}</div>`})});let t=this.element.querySelector(".copy");t&&t.addEventListener("click",e=>{e.preventDefault(),this.copy()}),this.copyDom=t;let s=e.find(".ayah-action.play");s.on("click",t=>{t.preventDefault(),t.stopImmediatePropagation();let i,a=document.getElementById("player");if(a&&(i=a.player),s.find(".fa").hasClass("fa-play-circle")){if(i)return i.play(e.data("verseNumber"))}else i&&i.handlePauseBtnClick()}),e.find(".arabic").hasClass("text_uthmani_tajweed")&&this.bindTajweedTooltip(),this.el=e}disconnect(){}copy(){n()(this.el.data("text"));let{title:e,done:t}=this.copyDom.dataset;this.copyDom.title=`<div class='${window.locale}'>${t}</div>`,this.copyDom.tooltip._fixTitle(),this.copyDom.tooltip.show(),this.copyDom.addEventListener("hidden.bs.tooltip",()=>{this.copyDom.setAttribute("title",e),this.copyDom.tooltip._fixTitle()})}bindTajweedTooltip(){let e=this.element;l.forEach(t=>{e.querySelectorAll("."+t).forEach(e=>{new r.a(e,{title:o[t],html:!0,sanitize:!1,direction:"top"})})})}}},,function(e,t,s){"use strict";s.r(t);var i=s(2),a=s(6),n=s(13);t.default=class extends i.b{connect(){let e=this.element;new n.a;const t=e.dataset;e.tooltip=new a.a(e,{trigger:"hover",placement:"top",html:!0,sanitize:!1,template:"<div class='tooltip bs-tooltip-top' role='tooltip'><div class='tooltip-arrow'></div><div class='tooltip-inner'></div></div>",title:()=>{const e=t.local,s=document.body.setting.get("tooltip");return`<div class='${e}'>${t[s]}</div>`}}),e.addEventListener("dblclick",e=>{e.preventDefault(),e.stopImmediatePropagation(),this.dbClick(e)}),e.addEventListener("click",e=>{e.preventDefault(),e.stopImmediatePropagation(),this.play()}),this.el=e}play(){let e=this.element.dataset;GoogleAnalytic.trackEvent("Play Word","Play",e.key,1);let t,s=document.getElementById("player");if(s&&(t=s.player),t)return t.playWord(e.audio)}dbClick(){let e,t=document.getElementById("player");if(t&&(e=t.player),e)return e.seekToWord(this.el.dataset.position)}disconnect(){this.el.removeEventListener("click",()=>{}),this.el.removeEventListener("dblclick",()=>{}),this.el.removeEventListener("dispose",()=>{})}}},function(e,t,s){},function(e,t,s){"use strict";s.r(t);var i=s(2);class a{constructor(e,t){const s={debug:!1,navSelector:"a[rel=next]",buffer:1e3,debounce:250,loading:null,success:null,error:null,context:window,state:{paused:!1,loading:!1}};this.options=$.extend({},s,t),this.$container=e,this.$context=$(this.options.context),this.init()}init(){let e=null;const t=()=>this.check(),{debounce:s}=this.options;return this.$context.on("scroll.infinitePages, slimscrolling",(function(){return e&&self.active&&(clearTimeout(e),e=null),e=setTimeout(t,s)}))}_log(e){if(this.options.debug)return"undefined"!==typeof console&&null!==console?console.log(e):void 0}check(){const e=this.$container.find(this.options.navSelector);if(0===e.length)return this._log("No more pages to load");{const t=this.$context.scrollTop()+this.$context.height(),s=e.offset().top-t;return this.options.state.paused?this._log("Paused"):this.options.state.loading?this._log("Waiting..."):s>this.options.buffer?this._log(s-this.options.buffer+"px remaining..."):this.next()}}next(){if(this.options.state.done)return this._log("Loaded all pages");{this._loading();const e=this.$container.find(this.options.navSelector).attr("href");return fetch(e,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>e.text()).then(e=>this._success(e)).catch(e=>this._error(e))}}_loading(){if(this.options.state.loading=!0,this._log("Loading next page..."),"function"===typeof this.options.loading)return this.$container.find(this.options.navSelector).each(this.options.loading)}_success(e){this.options.state.loading=!1,this._log("New page loaded!"),"function"===typeof this.options.success&&this.options.success(e)}_error(){if(this.options.state.loading=!1,this._log("Error loading new page :("),"function"===typeof this.options.error)return this.$container.find(this.options.navSelector).each(this.options.error)}pause(){return this.options.state.paused=!0,this._log("Scroll checks paused")}resume(){return this.options.state.paused=!1,this._log("Scroll checks resumed"),this.check()}stop(){return this.$context.off("scroll.infinitePages"),this._log("Scroll checks stopped")}destroy(){this.stop()}}t.default=class extends i.b{connect(){let e=$(this.element);var t=e.attr("id"),s=e.data("context");s=s?$(s):window;const i=$(e.data("items-container")||"#"+t),n=new a(i,{debug:!1,buffer:1e3,navSelector:`#${t}_pagination a[rel=next]:first`,context:s,loading(){},success(e){$(`#${t}_pagination`).remove();const s=$(e);i.append(s),i.trigger("items:added")},error:e=>i.find(".pagination").before(e)});i.is(":hidden")&&n.pause(),i.on("visibility:visible",()=>{n.resume()}),i.on("visibility:hidden",()=>{n.pause()}),this.element.infinitePage=n,this.plugin=n}disconnect(){this.plugin&&this.plugin.stop()}}},function(e,t,s){"use strict";s.r(t);var i=s(2);var a=class{loadAsyncContent(e){var t,s,i,a,n=document.querySelector(e),r=n.dataset,o=r.path,l=r.method||"GET",h=parseFloat(r.interval||0),c=r.successEvent,d=r.errorEvent,u=r.retryEvent,p=parseInt(r.retryCount||0),g=r.errorMessage||"",m=parseInt(0|r.delayOnError),f=r.lazyLoad;f&&(f=JSON.parse(f),t=(f=1==f?{}:f).threshold||[.25,.5,.75,1],s=f.root,i=f.margin||"0px",s=s?document.querySelector(s):null);var v=function(e){var t;e&&e.length>0&&("function"===typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),document.dispatchEvent(t))},y=function(e){f&&function(e){e.dataset.lazyLoaded=!0,a&&a.unobserve(e),a=null}(n),n.classList.remove("render-async"),h?$(n).empty().append(e):$(n).replaceWith(e),v(c)},b=function(e,t){e.ok?e.text().then(y):function(e){e>p?setTimeout(m,(function(){k(e)})):n.innerHTML=g,v(d)}(t)},w=function(e){var t={"X-Requested-With":"XMLHttpRequest"},s=document.querySelector('meta[name="csrf-token"]');s&&(t["X-CSRF-Token"]=s.content);var i={method:l,headers:t};"POST"==l&&(i.body=JSON.stringify(r)),fetch(o,i).then(t=>b(t,e))};h>0&&(p=0,setInterval(w,h));var T;if(p>0)var k=function(e){return!(e>=p)&&(v(u),w(e+1),!0)};f?(T=1,(a=new IntersectionObserver((function(e){e[0].intersectionRatio>0&&(function(e){return"true"===e.dataset.lazyLoaded}(n)||w(T))}),{root:s,rootMargin:i,threshold:t})).observe(n)):w(1)}};t.default=class extends i.b{connect(){(new a).loadAsyncContent("#"+this.element.getAttribute("id"))}}},function(e,s,i){"use strict";i.r(s);var a=i(2);s.default=class extends a.b{connect(){let e=$(this.element);e.data("slim")||(!function(e,s){var i,a,n,r,o,l,h,c,d=$.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},s),u="<div></div>",p=!1,g=e;if(g.parent().hasClass(d.wrapperClass)){var m=g.scrollTop();if(T=g.siblings("."+d.barClass),w=g.siblings("."+d.railClass),P(),$.isPlainObject(s)){if("height"in s&&"auto"==s.height){g.parent().css("height","auto"),g.css("height","auto");var f=g.parent().parent().height();g.parent().css("height",f),g.css("height",f)}else if("height"in s){var v=s.height;g.parent().css("height",v),g.css("height",v)}if("scrollTo"in s)m=parseInt(d.scrollTo);else if("scrollBy"in s)m+=parseInt(d.scrollBy);else if("destroy"in s)return T.remove(),w.remove(),void g.unwrap();x(m,!1,!0)}}else if(!$.isPlainObject(s)||!("destroy"in s)){d.height="auto"==d.height?g.parent().height():d.height;var y=$(u).addClass(d.wrapperClass).css({position:"relative",overflow:"hidden",width:d.width,height:d.height});g.css({overflow:"hidden",width:d.width,height:d.height});var b,w=$(u).addClass(d.railClass).css({width:d.size,height:"100%",position:"absolute",top:0,display:d.alwaysVisible&&d.railVisible?"block":"none","border-radius":d.railBorderRadius,background:d.railColor,opacity:d.railOpacity,zIndex:90}),T=$(u).addClass(d.barClass).css({background:d.color,width:d.size,position:"absolute",top:0,opacity:d.opacity,display:d.alwaysVisible?"block":"none","border-radius":d.borderRadius,BorderRadius:d.borderRadius,MozBorderRadius:d.borderRadius,WebkitBorderRadius:d.borderRadius,zIndex:99}),k="right"==d.position?{right:d.distance}:{left:d.distance};w.css(k),T.css(k),g.wrap(y),g.parent().append(T),g.parent().append(w),d.railDraggable&&T.on("mousedown",(function(e){var s=$(document);return n=!0,t=parseFloat(T.css("top")),pageY=e.pageY,s.on("mousemove.slimscroll",(function(e){currTop=t+e.pageY-pageY,T.css("top",currTop),x(0,T.position().top,!1)})),s.on("mouseup.slimscroll",(function(e){n=!1,L(),s.off(".slimscroll")})),!1})).on("selectstart.slimscroll",(function(e){return e.stopPropagation(),e.preventDefault(),!1})),w.on("mouseenter",(function(){E()})).on("mouseleave",(function(){L()})),T.on("mouseenter",(function(){a=!0})).on("mouseleave",(function(){a=!1})),g.on("mouseenter",(function(){i=!0,E(),L()})).on("mouseleave",(function(){i=!1,L()})),g.on("touchstart",(function(e,t){e.originalEvent.touches.length&&(o=e.originalEvent.touches[0].pageY)})),g.on("touchmove",(function(e){p||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(x((o-e.originalEvent.touches[0].pageY)/d.touchScrollStep,!0),o=e.originalEvent.touches[0].pageY)})),P(),"bottom"===d.start?(T.css({top:g.outerHeight()-T.outerHeight()}),x(0,!0)):"top"!==d.start&&(x($(d.start).position().top,null,!0),d.alwaysVisible||T.hide()),b=g[0],window.addEventListener?(b.addEventListener("DOMMouseScroll",S,!1),b.addEventListener("mousewheel",S,!1)):document.attachEvent("onmousewheel",S)}function S(e){if(i){var t=0;(e=e||window.event).wheelDelta&&(t=-e.wheelDelta/120),e.detail&&(t=e.detail/3);var s=e.target||e.srcTarget||e.srcElement;$(s).closest("."+d.wrapperClass).is(g.parent())&&x(t,!0),e.preventDefault&&!p&&e.preventDefault(),p||(e.returnValue=!1)}}function x(e,t,s){p=!1;var i=e,a=g.outerHeight()-T.outerHeight();if(t&&(i=parseInt(T.css("top"))+e*parseInt(d.wheelStep)/100*T.outerHeight(),i=Math.min(Math.max(i,0),a),i=e>0?Math.ceil(i):Math.floor(i),T.css({top:i+"px"})),i=(h=parseInt(T.css("top"))/(g.outerHeight()-T.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),s){var n=(i=e)/g[0].scrollHeight*g.outerHeight();n=Math.min(Math.max(n,0),a),T.css({top:n+"px"})}g.scrollTop(i),g.trigger("slimscrolling",~~i),E(),L()}function P(){l=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),30),T.css({height:l+"px"});var e=l==g.outerHeight()?"none":"block";T.css({display:e})}function E(){if(P(),clearTimeout(r),Math.min(h,1)==~~h){if(p=d.allowPageScroll,c!=h){var e=0==~~h?"top":"bottom";g.trigger("slimscroll",e)}}else p=!1;c=h,l>=g.outerHeight()?p=!0:(T.show(),d.railVisible&&w.show())}function L(){d.alwaysVisible||(r=setTimeout((function(){d.disableFadeOut&&i||a||n||(w.hide("slow"),T.hide("slow"))}),1e3))}}(e,{height:e.data("scrollHeight")||"100%",size:e.data("scrollSize")||"4px",position:e.data("scrollPosition")||"right",color:e.data("scrollColor")||"rgba(0,0,0,0.6)",alwaysVisible:e.data("scrollAlwaysVisible")||!1,distance:e.data("scrollDistance")||"4px",railVisible:e.data("scrollRailVisible")||!1,railColor:e.data("scrollRailColor")||"#fafafa",allowPageScroll:!1,disableFadeOut:!1}),e.data("slim",!0))}}}],[[29,1,2]]]);