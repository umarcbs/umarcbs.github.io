<!DOCTYPE html>
<!--[if IE 8 ]><html class="no-js oldie ie8" lang="en"> <![endif]-->
<!--[if IE 9 ]><html class="no-js oldie ie9" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html class="no-js" lang="en"> <!--<![endif]-->
<head>

   <!--- basic page needs
   ================================================== -->
   <meta charset="utf-8">
	<title>HTML File Encryptor</title>
	<meta name="description" content="">  
	<meta name="author" content="">

   <!-- mobile specific metas
   ================================================== -->
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

 	<!-- CSS
   ================================================== -->
   <link rel="stylesheet" href="css/base.css">  
   <link rel="stylesheet" href="css/main.css">
   <link rel="stylesheet" href="css/vendor.css">     

   <!-- script
   ================================================== -->
	<script src="js/modernizr.js"></script>

   <!-- favicons
	================================================== -->
	<link rel="icon" type="image/png" href="favicon.png">
<script>
      // If there is no trailing slash after the path in the url, add it
      // Workaround for Netlify trailing-slash rewrite issue
      // https://community.netlify.com/t/bug-in-non-trailing-slash-rewrite/452/23
      if (!window.location.pathname.endsWith('/') && !window.location.pathname.split("/").pop().includes(".")) {
          var url = window.location.protocol + '//' +
                  window.location.host +
                  window.location.pathname + '/' +
                  window.location.search;
          window.history.replaceState(null, document.title, url);
      }
    </script>
</head>

<body>

	<!-- header 
   ================================================== -->
   <header class="main-header">
   	<div class="row">
   		<div class="logo">
	         <a href="index.html">cqrCyber</a>
	      </div>   		
   	</div>   

   	<a class="menu-toggle" href="#"><span>Menu</span></a>	
   </header> <!-- /header -->

   <!-- navigation 
   ================================================== -->
   <nav id="menu-nav-wrap">
<style type="text/css">
	low{
		text-transform: capitalize;
		font-family: cursive;
		color: darkorange;
		font-size: 18px;
	}
</style>
<style type="text/css">
	olow{
		text-transform: lowercase;
		font-family: arial;
		font-size: 18px;
	}
</style>
<style type="text/css">
	gr{
		color: green;
	}
</style>
   	<h5 style="text-transform: capitalize; font-family: cursive;"><olow>cqr</olow><low>Cyber</low> <br>HTML File Encryptor<i class="fa fa-lock"></i></h5><hr/>  
   	<p style="text-align: justify; line-height: 18px;">This simple tool will let you encrypt html files. It has no server side components and uses AES 256-bit encryption. 
   		<br>
Instructions:<br>
Step1: Select any HTML file.<br>
Step2: Enter password and confirm that password again.<br>
Step3: Click on Encrypt and it will encrypt your file.<br>
The encrypted file will be in downloads go and check there. When you open that enter password to use run that html file.
			<ul class="nav-list">
			<li><a href="htmlenc2.html" title="Enter strings and convert them into html file with AES 256 Encryption." style="font-size: 15px;"><i class="fa fa-lock"></i> String/HTML Encryptor</a></li>
			<li><a href="htmlspinner.html" title="Html spinner to execute html code." style="font-size: 15px;"><i class="fa fa-spinner"></i> HTML Spinner</a></li>
      <li><a href="htmlec.html" title="Table for easy reference of ASCII characters and Symbols in HTML format."><i class="fa fa-circle-o-notch"></i> HTML Entity Coder</a></li>
      <li><a href="htmlencap.html" title="Calculate encapsulation overhead."><i class="fa fa-circle"></i> Encapsulation Overhead Calculator</a></li>

<hr/>
			<li><a href="demo1.html" title="About and Contact" style="font-size: 15px;"><i class="fa fa-info-circle" style="color: darkorange;"></i> Home</a></li>
			
			<li><a href="demo3.html" title="cqrCyber Projects" style="font-size: 15px;"><i class="fa fa-shield" style="font-size: 15px; color: darkorange;"></i> Projects</a></li>
			<li><a href="demo2.html" title="Others" style="font-size: 15px;"><i class="fa fa-tags" style="color: darkorange;"></i> Miscellaneous</a></li>
			<!--
			<li><a href="https://t.me/umar_cbs" title="cqrCyber Telegram Channel"><i class="fa fa-send-o" style="color:lightblue;"></i> Telegram cqrCyber</a></li>
			<li><a href="https://t.me/umarcbs" title="Personal Telegram Account (Umar Farooq)"><i class="fa fa-send" style="color: blue;"></i> Telegram</a></li>
			<li><a href="https://api.whatsapp.com/send?phone=916005728432" title="only for Messages"><i class="fa fa-whatsapp" style="color: green;"></i> WhatsApp</a></li>
			<li><a href="tel:+916005728432" title="Call in working hours only"><i class="fa fa-phone" style="color: orange;"></i> Call</a></li>					
			<li><a href="http://soulat.in" title="Umar Farooq"><i class="fa fa-globe" style="color: white;"></i> Website</a></li>
			<li><a href="mailto:soulatf3@gmail.com" title="Report errors or queries"><i class="fa fa-times-circle" style="color: red;"></i> Report Errors</a></li>	-->				
		</ul>

<!--
		<h5><olow>cqr</olow><low>Cyber</low>Address</h5>  
		<p style="text-align: justify; line-height: 12px;"><i class="fa fa-map-marker" style="font-size: 20px; color: purple;"></i> Srinagar, Jammu and Kashmir.
		   </p>
		   <p style="text-align: justify; line-height: 12px;"><i class="fa fa-thumb-tack" style="font-size: 20px; color: maroon;"></i> Postal Code: 192301
		   </p>
		   <p style="text-align: justify; line-height: 12px;"><i class="fa fa-phone" style="font-size: 20px; color: darkblue;"></i>  +91-6005728432
		   </p>
-->
		<hr/>
		<h5><olow>cqr</olow><low>Cyber</low><i class="fa fa-shield" style="font-size: 10px; color: green;"></i></h5>  
		<p style="text-align: justify; line-height: 18px;">Secure Cyber is a simple effort towards building projects related to Computer Science & Cyber Security.
		   <br><cpy style="color: darkorange; font-size: 12px;"><cpy1 style="color: white;">Copyright &copy 2020</cpy1> cqrcyber.xyz  </cpy>
		</p>

		

	</nav>

	</nav>

	<!-- main content
   ================================================== -->
   <main id="main-404-content" class="main-content-particle-js">

   	<div class="content-wrap">

		   <div class="shadow-overlay"></div>

		   <div class="main-content">
		   	<div class="row">
		   		<div class="col-twelve">
		   			
					 <div class="search121">
				      	<script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('set', 'forceSSL', true);
      ga('create', 'UA-24440376-11', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body>
  	<style>
        html, body {
            margin: 0;
            font-family: Arial, Helvetica, sans-serif;
            line-height: 1;
            background-color: black;
        }
        h1 {
            display: inline-block;
        }
        .githubLink {
            display: inline-block;
            padding: 6px 15px;
            text-align: center;
            text-decoration: none;
            border-radius: 4px;
            border: 1px solid #bbb;
            margin-right: 10px;
            background-image:linear-gradient(180deg, #fafbfc, #eff3f6 90%);
        }
        
        
        .linkBack {
            margin: 1em 0;
        }
        #pageContainer {
            margin: 0 auto;
            padding: 10px;
            padding-top: 0;
            max-width: 1050px;
        }
        
        #sectionTop {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
        }
        #projDescription {
            max-width: 700px;
        }
        .steps {
            color: green;
        }
        #passMismatch {
            display: none;
            color: red;
        }
        .demoButton {
          display: inline-block;
          font: bold 20px Arial;
          text-decoration: none;
          background-color: #EEEEEE;
          color: #333333;
          padding: px 6px 2px 6px;
          border-top: 1px solid #CCCCCC;
          border-right: 1px solid #333333;
          border-bottom: 1px solid #333333;
          border-left: 1px solid #CCCCCC;
        }
        #doneProtecting {
            display: none;
            color: blue;
            font-weight: bold;
        }
        #disclaimer {
            color: gray;
            font-size: 0.75em;
            margin-top: 30px;
        }
        .githubLogo {
            position: relative;
            height: 25px;
            vertical-align: middle;
        }
        .githubLogo:hover {
            opacity: 1;
        }
        .suggested {
            max-width: 260px;
        }
        
        }
    </style>
    <div id="pageContainer">
        <div class="linkBack">
            
        </div>
        <div id="mainContainer">
            <div id="sectionTop">
                
                <div id="widgetContainer" style="line-height: 10px;">
                  
                    <p><input type="file" id="fileselect" name="file" title="Select any html file" disabled/></p>
                    <p>
                    <div style="display: table;">
                        <div style="display: table-row; line-height: 5px;">
                            <div style="display: table-cell; color: green; font-size: 15px;"></div><div style=" background-color: rgba(169,169,169,0.1);"><input id="pass" type="password" name="pass" title="Enter a Password" placeholder="Enter Password" disabled></div>
                        </div>
                        <div style="display: table-row;">
                            <div style="display: table-cell; color: green; font-size: 15px;"></div><div style=" background-color: rgba(169,169,169,0.1);"><input id="passconf" type="password" name="passconf" title="enter the password again to confirm." placeholder="Confirm Password" disabled ></div>
                        </div>
                    </div>
                    <p id="passMismatch">Passwords don't match, try again.</p>
                    <p><button id="submitFile" type="button" title="Click to encrypt your html file with AES 256 Encryption." disabled style="color: white; background-color: darkorange; border-color: darkorange; padding: 10px 10px; size: 20px; font-family: cursive;">Submit</button></p>
                    <p id="doneProtecting" style="color: darkorange; font-size: 15px;">Done! Check your downloads!</p>
                    
                </div>
            </div>
            <div style="clear: both;"></div>
            
            
    
    <script src="js/aes.js"></script>
    <script src="js/pbkdf2.js"></script>
    <script src="js/FileSaver.js"></script>
    <script>
        var fileSelect = document.getElementById('fileselect');
        var submitFile = document.getElementById('submitFile');
        var passEl = document.getElementById('pass');
        var passConfEl = document.getElementById('passconf');
        var passMismatch = document.getElementById('passMismatch');
        var doneProtecting = document.getElementById('doneProtecting');
        
        var templateHTML;
        
        function doSubmit(evt) {
            if (!passwordsMatch()) {
                passMismatch.style.display = "block";
                return;
            }
            
            var file = fileSelect.files[0];
            var reader = new FileReader();
            reader.onload = function(data) {
                var fileConts = data.target.result;
                
                var encryptedFile = encryptFile(fileConts, passEl.value);
                
                var salt = CryptoJS.enc.Base64.stringify(encryptedFile.salt);
                var iv = CryptoJS.enc.Base64.stringify(encryptedFile.iv);
                var cipherText = CryptoJS.enc.Base64.stringify(encryptedFile.data.ciphertext);
                var encryptedJSON = JSON.stringify({salt: salt, iv: iv, data: cipherText});
                
                // Wrap template around encrypted data
                
                var encryptedDocument = templateHTML.replace("/*{{ENCRYPTED_PAYLOAD}}*/\"\"", encryptedJSON);
                var fileBlob = new Blob([encryptedDocument], {type: "text/plain;charset=utf-8"});
                
                // Create filename
                var origPath = document.getElementById('fileselect').value;
                var pathSplit = origPath.split("\\");
                var origName = pathSplit[pathSplit.length - 1];
                var origNameSplit = origName.split(".");
                origNameSplit[origNameSplit.length - 2] += "-protected";
                var finalName = origNameSplit.join(".");
                
                saveAs(fileBlob, finalName);
                doneProtecting.style.display = "block";
            };
            reader.readAsText(file);
        }
        
        submitFile.onclick = doSubmit;
        
        function encryptFile(contents, password) {
            var salt = CryptoJS.lib.WordArray.random(256/8);
            var iv = CryptoJS.lib.WordArray.random(128/8);
            var key = CryptoJS.PBKDF2(password, salt, { keySize: 256/32, iterations: 100 });
            var encrypted = CryptoJS.AES.encrypt(contents, key, {iv: iv});
            return {salt: salt, iv: iv, data: encrypted};
        }
        
        // Load template
        
        var xmlhttp = new XMLHttpRequest();
                
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == XMLHttpRequest.DONE ) {
               if(xmlhttp.status == 200){
                   templateHTML = xmlhttp.responseText;
                   fileSelect.disabled = false;
               }
               else {
                   console.log("Template not found.");
               }
            }
        }

        xmlhttp.open("GET", "decryptTemplate.html", true);
        xmlhttp.send();
        
        // Enable elements as they are filled out
        
        fileSelect.onchange = function () {
            passEl.disabled = false;
            passConfEl.disabled = false;
            submitFile.disabled = false;
            doneProtecting.style.display = "none";
        }
        
        function passwordsMatch() {
            if (passEl.value !== "" && passEl.value === passConfEl.value) {
                return true;
            } else {
                return false;
            }
        }
        
        passEl.onkeyup = passConfEl.onkeyup = function () {
            passMismatch.style.display = "none";
        }
        
        if (window.location.protocol === "file:") alert("Use web server to make this tool work properly otherwise may work improperly.");
    </script>
				      </div>
    
</p>
			   			

			   	</div> <!-- /twelve --> 		   			
		   	</div> <!-- /row -->    		 		
		   </div> <!-- /main-content --> 

		   <footer>
		   	<div class="row">

		   		<div class="col-seven tab-full social-links pull-right">
			   		
			   	</div>
		   			
		  			<div class="col-five tab-full bottom-links">
			   		<ul class="links">
</ul>
				   	<div class="credits">
				   		<p style="color: silver; font-size: 14px; padding-left: 13px;">Designed and Coded by <a href="http://soulat.in" title="Umar Farooq">Umar Farooq</a>
				   			| <cpy1 style="color: white;">Copyright &copy 2020 | </cpy1> <cpy><cpy2 style="color: white;">cqr</cpy2><cpy3 style="color: darkorange;">Cyber</cpy3>.xyz  </cpy></p>
				   	</div> 
			   	</div>   		   		

		   	</div> <!-- /row -->    		  		
		   </footer>

		</div> <!-- /content-wrap -->
   
   </main> <!-- /main-404-content -->

   <div id="preloader"> 
    	<div id="loader"></div>
   </div> 

   <!-- Java Script
   ================================================== --> 
   <script src="js/jquery-2.1.3.min.js"></script>
   <script src="js/plugins.js"></script>
   <script src="js/main.js"></script>

</body>

</html>